---
title: Pod库创建流程（上）
tags: Cocoapods
categories: 开发
abbrlink: 440b4e19
date: 2019-07-25 10:38:41
---
<meta name="referrer" content="no-referrer" />

[toc]
# 创建pod库流程(上)
## 第一步

创建本地私有库，`pod lib create 为创建pod模板工程命令``DYTest`为私有库名称
```
pod lib create DYTest
```
结果如下图所示,命令默认会在当前所在目录下创建，图中所示路径为桌面
![](media/15640160877905/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-07-25%20%E4%B8%8A%E5%8D%888.59.05.png)

## 第二步
创建远程仓库，进入刚才创建的DYTest工程根目录将本地创建的私有库工程与远程仓库关联起来，具体操作如下所示：
![](media/15640160877905/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-07-25%20%E4%B8%8A%E5%8D%889.06.37.png
)

## 第三步
创建远程Spec文件仓库并添加到到本地repo目录，repo目录在本地cocoapods安装目录下，Spec文件为pod工程描述文件，里边可编辑pod库的所有配置信息，名称，地址，支持平台，版本，依赖库等等.
`pod repo add`为本地pod添加spec文件命令`DYTestSpecs`为要添加的spec目录的名称`http://192.168.120.30/iOS_Group/DYTestSpecs.git`为远程Spec文件仓库地址。

**注意：一个Spec文件仓库可以存放多个pod库的Spec文件**

```
pod repo add DYTestSpecs http://192.168.120.30/iOS_Group/DYTestSpecs.git
```
结果如下:
![](media/15640160877905/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-07-25%20%E4%B8%8A%E5%8D%889.20.08.png
)

## 第四步
至此我们便可以着手在pod库里进行代码编写工作，由此流程创建的pod库文件根目录结构大概如下图所示：

![屏幕快照 2019-07-25 上午9.23.20](media/15640160877905/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-07-25%20%E4%B8%8A%E5%8D%889.23.20.png)

其中`Example`文件夹为pod模板自带的示例工程，我们在pod库中编写的代码可通过此示例工程进行调试，`DYTest`文件夹为我们将要编写代码的物理路径，目录结构如下:

![屏幕快照 2019-07-25 上午9.26.20](media/15640160877905/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-07-25%20%E4%B8%8A%E5%8D%889.26.20.png)

`Classes`文件夹即我们编写的pod库代码所在的文件物理路径

下面我们打开项目看一下：
![WeChat865ff9360b497c1dd165b1d7d9f4f6d8](media/15640160877905/WeChat865ff9360b497c1dd165b1d7d9f4f6d8.png)

其中**创建时路径不要选错，是在`Classes`文件夹下**箭头所指的文件为我们当前pod库的spec文件，将来如果要发布被他人搜索使用就需要编写此spec文件对应信息并将其推送单刚才创建的远程spec仓库`DYTestSpecs`中。

**绿色**箭头所指为我们的`Example`示例工程目录。

**红色**箭头所指为我们pod库工程代码目录，**此目录为虚拟文件夹，其下文件物理路径为前文所述的`Classes`文件夹,一定要注意创建文件时候不要选错存放路径，应该存放在`Classes`下**。

每当我们添加新的文件时需要进入`Example`目录下进行`update`操作，这样创建的文件会自动加入工程，不进行`update`操作你的文件在使用时将会提示`not found`,具体操作如下所示:
![屏幕快照 2019-07-25 上午9.40.28](media/15640160877905/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-07-25%20%E4%B8%8A%E5%8D%889.40.28.png)

**创建时路径不要选错，是在`Classes`文件夹下**

下面进行**update**操作
![屏幕快照 2019-07-25 上午10.24.00](media/15640160877905/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-07-25%20%E4%B8%8A%E5%8D%8810.24.00.png)
注意路径，是在`Example`目录下进行update,完成后我们新创建的文件就可以`import`使用了

当一天的工作完成后需要进行代码提交，那么我们进入项目根目录进行代码提交，
![屏幕快照 2019-07-25 上午10.32.10](media/15640160877905/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202019-07-25%20%E4%B8%8A%E5%8D%8810.32.10.png)

分支根据情况自行选择，此处我选择master，pod库创建的简单流程及代码编写大体就这样，下次详细说一下spec文件的编写以及pod库某一阶段完成后打tag，进行推送以供他人`search``install`的流程。

